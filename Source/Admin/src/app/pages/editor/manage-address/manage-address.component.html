<!--
  Name: Galyon App
  Authors : Bytes Crafter
  Website : https://bytescrafter.net
  Created : 01-Jan-2021
 -->
 <ngx-spinner type="ball-pulse-sync" color="#e74c3c">
    <p style="font-size: 20px; color: #e74c3c">Please wait...</p>
</ngx-spinner>
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h5>Manage Address</h5>
            </div>
            <div class="card-body">
                <div class="form-group row">
                    <div class="col-sm-6">
                        <div class="col-sm-12" style="margin-top: 10px;">
                            <label>SEARCH PLACE</label>
                            <input type="text" [(ngModel)]="searching" class="form-control" placeholder="Search Place..." (keydown.enter)="onSearch()">
                        </div>
                        <!-- https://stackblitz.com/edit/angular-google-maps-demo [restriction]="bounderyRestrictions" -->
                        <agm-map [styles]='mapStyle'
                            [latitude]="mapOrigin.lat" 
                            [longitude]="mapOrigin.lng"
                            [zoom]="mapZoom"
                            [disableDefaultUI]="true"
                            [zoomControl]="true"
                            (mapClick)="mapClicked($event)">
                            <agm-marker *ngFor="let m of markers; let i = index"
                                (markerClick)="clickedMarker(m.label, i)"
                                [latitude]="m.lat"
                                [longitude]="m.lng"
                                [label]="m.label"
                                [markerDraggable]="m.draggable"
                                (dragEnd)="markerDragEnd(m, $event)" [iconUrl] ="markerIcon">
                                <agm-info-window>
                                    <strong>Target Address</strong>
                                </agm-info-window>
                            </agm-marker>
                            <!-- <agm-circle [latitude]="mapOrigin.lat + 1" [longitude]="mapOrigin.lng" 
                                [radius]="5000"
                                [fillColor]="'red'"
                                [circleDraggable]="true"
                                [editable]="true">
                            </agm-circle> -->
                        </agm-map>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <div class="col-sm-12" style="margin-top: 10px;">
                                <label>GEO LOCATION</label>
                                <input type="text" [(ngModel)]="location" disabled class="form-control" placeholder="Location">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-12">
                                <label>STREET ADDRESS</label>
                                <input type="text" [(ngModel)]="address" class="form-control" placeholder="Address">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-12">
                                <label>LANDMARK - Optional!</label>
                                <input type="text" [(ngModel)]="landmark" class="form-control" placeholder="Landmark">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-12">
                                <label>Zipcode - Optional!</label>
                                <input type="number" [(ngModel)]="zipcode" class="form-control" placeholder="Zipcode">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-12">
                                <button class="btn btn-primary btn-round float-right" (click)="create()" *ngIf="new">
                                    Create
                                </button>
                                <button class="btn btn-primary btn-round float-right" (click)="update()" *ngIf="!new">
                                    Update
                                </button>
                                <button class="btn btn-primary btn-round float-left" (click)="goBack()">
                                    Go Back
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- this creates a google map on the page with the given lat/lng from -->
<!-- the component as the initial center of the map: -->
<!-- <agm-map [latitude]="lat" [longitude]="lng">
  <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
</agm-map> -->