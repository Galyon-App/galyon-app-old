<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="back()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="ion-text-center">{{util.getString('Verify Account')}}</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="main_content_div">

    <div class="iconDiv">
      <img src="assets/icon.png" alt="" class="icon">
    </div>

    <div class="form_div" *ngIf="action == 'reset'">
      <ion-label class="main_head"> {{util.getString('Reset Password')}} </ion-label>
      <div>
        <ion-input type="email" [placeholder]="util.getString('Email')" [(ngModel)]="email" disabled="sending">
          <ion-icon name="mail" slot="icon-only"></ion-icon>
        </ion-input>
        <ion-button expand="block" (click)="resetPassword()" disabled="sending">
          <span> {{util.getString('Reset Password')}} </span>
          <ion-spinner name="circular" *ngIf="sending"></ion-spinner>
        </ion-button>
      </div>
    </div>  
    <div style="text-align: center;" *ngIf="action == 'reset'">
      <ion-label class="lbl" (click)="changeMode('activate')" disabled="sending"> 
        {{util.getString("Pending account?")}} 
        <span style="font-weight: bold;">
          {{util.getString('Activate Now')}}
        </span>
      </ion-label>
    </div>  

    <div class="form_div" *ngIf="action == 'activate'">
      <ion-label class="main_head"> {{util.getString('Activation')}} </ion-label>
      <div>
        <ion-input type="email" [placeholder]="util.getString('Email')" [(ngModel)]="email" disabled="sending">
          <ion-icon name="mail" slot="icon-only"></ion-icon>
        </ion-input>
        <ion-input type="text" [placeholder]="util.getString('Activation')" [(ngModel)]="key" disabled="sending">
          <ion-icon name="medical" slot="icon-only"></ion-icon>
        </ion-input>
        <ion-input type="password" [placeholder]="util.getString('Current Password')" [(ngModel)]="password" disabled="sending">
          <ion-icon name="medical" slot="icon-only"></ion-icon>
        </ion-input>
        <ion-input type="password" [placeholder]="util.getString('Confirm Password')" [(ngModel)]="confirm_password" disabled="sending">
          <ion-icon name="medical" slot="icon-only"></ion-icon>
        </ion-input>
        <ion-button expand="block" (click)="activateAccount()" disabled="sending">
          <span> {{util.getString('Activate Now')}} </span>
          <ion-spinner name="circular" *ngIf="sending"></ion-spinner>
        </ion-button>
      </div>
    </div>  
    <div style="text-align: center;" *ngIf="action == 'activate'">
      <ion-label class="lbl" (click)="changeMode('reset')" disabled="sending"> 
        {{util.getString("Forgot password?")}} 
        <span style="font-weight: bold;">
          {{util.getString('Reset Password')}} 
        </span>
      </ion-label>
    </div>  
    
  </div>
</ion-content>